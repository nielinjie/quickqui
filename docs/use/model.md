# 模型开发

quick-qui 对模型的处理大致有以下几个方面 -

1. 模型的定义
2. 模型的描述
3. 模型的解析
4. 模型的编织
5. 模型的重用
6. 模型的扩展

## 模型的定义

quick-qui 认为模型是一种声明性的描述，不规定具体的类型和内容。开发者可以自行定义需要的模型。目前项目包含了一些常见的模型类型，比如实体模型、功能模型、表现模型、实现模型等。具体见[参考 - 模型](/ref/model.md)

## 模型的描述

模型以 yaml 文件的形式描述。放在一个目录里，称为一个“模型源”。目录结构和文件名有意义，会被解析为命名空间。但目前为止指命名空间没有被应用。“模型源”可以是一个目录也可以是任何能归结于文件树形的结构，比如一个 npm 包，或者一个指向 .zip 文件的 URL。

具体不同的模型内容，不同的模型有不同的定义，详细见[参考 - 模型](/ref/model.md)

## 模型的解析

默认情况下模型以 yaml 文件解析。

## 模型的编织

“编织”是本项目发明的一个概念。由于模型的定义是分散的，需要一个步骤来将模型的各个部分合并和关联起来。这个过程就叫做“编织”。

## 模型的重用

模型的重用可以体现在两个层面 -

1. 在模型源的层面上，可以 include 另一个模型源。逻辑上，sa include sb，则 sa、sb 两个模型源对等合并处理。类似于将 sb 目录的内容完全 copy 到 sa 目录中，并保留 sb 的目录结构。
2. 在模型单元的层面上，支持模型单元之间的重用操作，比如 -
   1. extend - a extend b，计算结果是一个包括 a 和 b 的全部属性，名为 a 的单元。a 和 b 都会继续存在。
   2. inject - a inject b，计算结果是一个包括 a 和 b 的全部属性，名为 b 的单元。a 会被删除。
   <!-- TODO 可能不应该被删除，应该被 mark 为 abstract -->

## 模型的自定义

模型的定义和模型的描述方式均可以自定义。
自定义模型需要从实现接口 Defincer
自定义模型的方式更复杂一些，

## 开发工具

目前有 model-front，作为模型查看的工具。后续会继续完善并考虑发展成为可以进行编辑的工具。参见[@quick-qui/model-front](http://github.com/quickqui/model-front)
